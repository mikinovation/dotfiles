{
  "includeCoAuthoredBy": false,
  "hooks": {
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/config/claude/hooks/notify-stop.sh"
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/config/claude/hooks/notify-input.sh"
          }
        ]
      }
    ]
  },
  "enabledMcpjsonServers": [
    "deepwiki",
    "nixos",
    "playwright",
    "serena"
  ],
  "permissions": {
    "ask": [
      "mcp__playwright__browser_navigate(*)",
      "mcp__playwright__browser_click(*)",
      "mcp__playwright__browser_type(*)",
      "mcp__playwright__browser_fill_form(*)",
      "mcp__playwright__browser_file_upload(*)",
      "mcp__playwright__browser_evaluate(*)",
      "mcp__serena__replace_symbol_body(*)",
      "mcp__serena__insert_after_symbol(*)",
      "mcp__serena__insert_before_symbol(*)",
      "mcp__serena__rename_symbol(*)",
      "mcp__serena__activate_project(*)",
      "Bash(git push *)",
      "Bash(git push --force*)",
      "Bash(git rebase *)",
      "Bash(git reset --hard*)",
      "Bash(git clean -fd*)",
      "Bash(gh pr create*)",
      "Bash(gh pr merge*)",
      "Bash(gh release create*)",
      "Bash(npm publish*)",
      "Bash(yarn publish*)",
      "Bash(pnpm publish*)",
      "Bash(cargo publish*)",
      "Bash(gem push*)",
      "Bash(docker push*)",
      "Bash(kubectl delete*)",
      "Bash(kubectl apply -f *production*)",
      "Bash(helm delete*)",
      "Bash(helm upgrade *production*)",
      "Bash(terraform apply*)",
      "Bash(terraform destroy*)",
      "Bash(ansible-playbook *production*)",
      "Bash(rm -r *)",
      "Bash(rm -rf *)",
      "Bash(sudo *)",
      "Bash(chmod +x *)",
      "Bash(chmod 755 *)",
      "Bash(chmod 644 *)",
      "Bash(chown *)",
      "Bash(mv * ../*)",
      "Bash(cp -r *)",
      "Bash(rsync *)",
      "Bash(scp *)",
      "Bash(ssh *)",
      "Bash(psql *DROP*)",
      "Bash(mysql *DROP*)",
      "Bash(redis-cli FLUSHALL*)",
      "Bash(redis-cli FLUSHDB*)",
      "Bash(rails db:drop*)",
      "Bash(rails db:reset*)",
      "Bash(bundle exec rake db:drop*)",
      "Bash(bundle exec rake db:reset*)",
      "Bash(npm run build*)",
      "Bash(yarn build*)",
      "Bash(pnpm build*)",
      "Bash(cargo build --release*)",
      "Bash(go build*)",
      "Bash(make install*)",
      "Bash(pip install *)",
      "Bash(pip uninstall *)",
      "Bash(npm install *)",
      "Bash(npm uninstall *)",
      "Bash(yarn add *)",
      "Bash(yarn remove *)",
      "Bash(pnpm add *)",
      "Bash(pnpm remove *)",
      "Bash(bundle install*)",
      "Bash(gem install *)",
      "Bash(cargo install *)",
      "Bash(nix-env -i *)",
      "Bash(nix-env -e *)",
      "Bash(home-manager switch*)",
      "Bash(nixos-rebuild switch*)",
      "Write(**/package.json)",
      "Write(**/Cargo.toml)",
      "Write(**/Gemfile)",
      "Write(**/requirements.txt)",
      "Write(**/pyproject.toml)",
      "Write(**/go.mod)",
      "Write(**/pom.xml)",
      "Write(**/build.gradle)",
      "Write(**/docker-compose.yml)",
      "Write(**/Dockerfile)",
      "Write(**/.gitlab-ci.yml)",
      "Write(**/.github/workflows/*)",
      "Write(**/terraform/*.tf)",
      "Write(**/ansible/*.yml)",
      "Write(**/flake.nix)",
      "Write(**/flake.lock)",
      "Write(**/configuration.nix)"
    ],
    "allow": [
      "mcp__deepwiki__read_wiki_structure(*)",
      "mcp__deepwiki__read_wiki_contents(*)",
      "mcp__deepwiki__ask_question(*)",
      "mcp__nixos__nixos_search(*)",
      "mcp__nixos__nixos_info(*)",
      "mcp__nixos__nixos_channels(*)",
      "mcp__nixos__nixos_stats(*)",
      "mcp__nixos__home_manager_search(*)",
      "mcp__nixos__home_manager_info(*)",
      "mcp__nixos__home_manager_stats(*)",
      "mcp__nixos__home_manager_list_options(*)",
      "mcp__nixos__home_manager_options_by_prefix(*)",
      "mcp__nixos__darwin_search(*)",
      "mcp__nixos__darwin_info(*)",
      "mcp__nixos__darwin_stats(*)",
      "mcp__nixos__darwin_list_options(*)",
      "mcp__nixos__darwin_options_by_prefix(*)",
      "mcp__nixos__nixos_flakes_stats(*)",
      "mcp__nixos__nixos_flakes_search(*)",
      "mcp__nixos__nixhub_package_versions(*)",
      "mcp__nixos__nixhub_find_version(*)",
      "mcp__playwright__browser_snapshot(*)",
      "mcp__playwright__browser_take_screenshot(*)",
      "mcp__playwright__browser_console_messages(*)",
      "mcp__playwright__browser_network_requests(*)",
      "mcp__playwright__browser_tabs(*)",
      "mcp__playwright__browser_navigate_back(*)",
      "mcp__playwright__browser_wait_for(*)",
      "mcp__playwright__browser_resize(*)",
      "mcp__playwright__browser_close(*)",
      "mcp__playwright__browser_install(*)",
      "mcp__playwright__browser_press_key(*)",
      "mcp__playwright__browser_select_option(*)",
      "mcp__playwright__browser_hover(*)",
      "mcp__playwright__browser_drag(*)",
      "mcp__playwright__browser_handle_dialog(*)",
      "mcp__serena__list_dir(*)",
      "mcp__serena__find_file(*)",
      "mcp__serena__search_for_pattern(*)",
      "mcp__serena__get_symbols_overview(*)",
      "mcp__serena__find_symbol(*)",
      "mcp__serena__find_referencing_symbols(*)",
      "mcp__serena__get_current_config(*)",
      "mcp__serena__check_onboarding_performed(*)",
      "mcp__serena__onboarding(*)",
      "mcp__serena__think_about_collected_information(*)",
      "mcp__serena__think_about_task_adherence(*)",
      "mcp__serena__think_about_whether_you_are_done(*)",
      "mcp__serena__initial_instructions(*)",
      "Bash(npm *)",
      "Bash(yarn *)",
      "Bash(pnpm *)",
      "Bash(bun *)",
      "Bash(node *)",
      "Bash(npx *)",
      "Bash(git *)",
      "Bash(gh *)",
      "Bash(sh ./scripts/*)",
      "Bash(bash ./scripts/*)",
      "Bash(busted *)",
      "Bash(lua *)",
      "Bash(luarocks *)",
      "Bash(python *)",
      "Bash(python3 *)",
      "Bash(pip *)",
      "Bash(pip3 *)",
      "Bash(pipenv *)",
      "Bash(poetry *)",
      "Bash(uv *)",
      "Bash(ruby *)",
      "Bash(bundle *)",
      "Bash(gem *)",
      "Bash(rake *)",
      "Bash(rails *)",
      "Bash(cargo *)",
      "Bash(rustc *)",
      "Bash(rustup *)",
      "Bash(go *)",
      "Bash(mvn *)",
      "Bash(gradle *)",
      "Bash(make *)",
      "Bash(cmake *)",
      "Bash(docker build *)",
      "Bash(docker run *)",
      "Bash(docker compose *)",
      "Bash(docker-compose *)",
      "Bash(docker ps *)",
      "Bash(docker logs *)",
      "Bash(docker exec *)",
      "Bash(kubectl *)",
      "Bash(helm *)",
      "Bash(terraform *)",
      "Bash(ansible *)",
      "Bash(nvim *)",
      "Bash(vim *)",
      "Bash(code *)",
      "Bash(nix *)",
      "Bash(nix-shell *)",
      "Bash(nix-build *)",
      "Bash(home-manager *)",
      "Bash(direnv *)",
      "Bash(cat *)",
      "Bash(less *)",
      "Bash(head *)",
      "Bash(tail *)",
      "Bash(grep *)",
      "Bash(find *)",
      "Bash(sed *)",
      "Bash(awk *)",
      "Bash(jq *)",
      "Bash(yq *)",
      "Bash(curl *)",
      "Bash(wget *)",
      "Bash(ls *)",
      "Bash(tree *)",
      "Bash(mkdir *)",
      "Bash(touch *)",
      "Bash(cp *)",
      "Bash(mv *)",
      "Bash(rm *)",
      "Bash(chmod *)",
      "Bash(chown *)",
      "Bash(ln *)",
      "Bash(echo *)",
      "Bash(printf *)",
      "Bash(test *)",
      "Bash([ *)",
      "Bash(diff *)",
      "Bash(patch *)",
      "Bash(tar *)",
      "Bash(gzip *)",
      "Bash(gunzip *)",
      "Bash(zip *)",
      "Bash(unzip *)",
      "Bash(date *)",
      "Bash(whoami *)",
      "Bash(hostname *)",
      "Bash(pwd *)",
      "Bash(which *)",
      "Bash(whereis *)",
      "Bash(env *)",
      "Bash(export *)",
      "Bash(source *)",
      "Bash(ps *)",
      "Bash(top *)",
      "Bash(htop *)",
      "Bash(kill *)",
      "Bash(pkill *)"
    ],
    "deny": [
      "mcp__playwright__browser_navigate(*://*.bank/*)",
      "mcp__playwright__browser_navigate(*://*.paypal.com/*)",
      "mcp__playwright__browser_navigate(*://*.amazon.com/ap/*)",
      "mcp__playwright__browser_navigate(*://accounts.google.com/*)",
      "mcp__playwright__browser_navigate(*://login.microsoftonline.com/*)",
      "mcp__playwright__browser_navigate(*://*auth*/*)",
      "mcp__playwright__browser_navigate(*://*login*/*)",
      "mcp__playwright__browser_navigate(*://*signin*/*)",
      "mcp__playwright__browser_type(**password**)",
      "mcp__playwright__browser_type(**credit**)",
      "mcp__playwright__browser_type(**ssn**)",
      "mcp__playwright__browser_fill_form(**password**)",
      "mcp__playwright__browser_fill_form(**credit**)",
      "mcp__playwright__browser_evaluate(*password*)",
      "mcp__playwright__browser_evaluate(*credentials*)",
      "mcp__playwright__browser_evaluate(*localStorage*)",
      "mcp__playwright__browser_evaluate(*sessionStorage*)",
      "mcp__playwright__browser_evaluate(*document.cookie*)",
      "mcp__serena__write_memory(*)",
      "mcp__serena__delete_memory(*)",
      "mcp__serena__read_memory(*)",
      "mcp__serena__list_memories(*)",
      "Read(.env)",
      "Read(**/.env)",
      "Read(**/.env.*)",
      "Read(**/.env.local)",
      "Read(**/.env.production)",
      "Read(**/.env.development)",
      "Write(.env)",
      "Write(**/.env)",
      "Write(**/.env.*)",
      "Read(**/config/secrets.yml)",
      "Read(**/config/credentials.yml.enc)",
      "Read(**/config/master.key)",
      "Read(**/.credentials)",
      "Read(**/*.pem)",
      "Read(**/*.key)",
      "Read(**/*.p12)",
      "Read(**/*.pfx)",
      "Read(**/*.keystore)",
      "Read(**/id_rsa)",
      "Read(**/id_ed25519)",
      "Read(**/.ssh/*)",
      "Read(**/.aws/credentials)",
      "Read(**/.aws/config)",
      "Read(**/.gcp/*.json)",
      "Read(**/.docker/config.json)",
      "Read(**/.kube/config)",
      "Read(**/.npmrc)",
      "Read(**/.pypirc)",
      "Read(**/.gem/credentials)",
      "Read(**/secrets.json)",
      "Read(**/appsettings.secrets.json)",
      "Read(**/credentials.json)",
      "Write(**/config/secrets.yml)",
      "Write(**/config/credentials.yml.enc)",
      "Write(**/config/master.key)",
      "Write(**/.credentials)",
      "Write(**/*.pem)",
      "Write(**/*.key)",
      "Write(**/*.p12)",
      "Write(**/*.pfx)",
      "Write(**/*.keystore)",
      "Write(**/id_rsa)",
      "Write(**/id_ed25519)",
      "Write(**/.ssh/*)",
      "Write(**/.aws/credentials)",
      "Write(**/.aws/config)",
      "Write(**/.gcp/*.json)",
      "Write(**/.docker/config.json)",
      "Write(**/.kube/config)",
      "Write(**/.npmrc)",
      "Write(**/.pypirc)",
      "Write(**/.gem/credentials)",
      "Write(**/secrets.json)",
      "Write(**/appsettings.secrets.json)",
      "Write(**/credentials.json)",
      "Bash(rm -rf /)",
      "Bash(sudo rm *)",
      "Bash(chmod -R 777 *)",
      "Bash(cat /etc/shadow)",
      "Bash(cat /etc/passwd)",
      "Bash(curl * | bash)",
      "Bash(wget * | sh)",
      "Bash(dd if=*)",
      "Bash(cd *)"
    }
  }
}
